# Network traffic classification: Techniques, datasets, and challenges

## 贡献
1. 对文献中部署最多的网络流量分类技术进行了全面讨论。
2. 解释所讨论技术的优点和缺点。
3. 回顾了每种技术的相关研究。
4. 强调文献中提出的解决方案的分类重点。
5. 描述研究人员在文献中部署的公共数据集。
6. 讨论所部署的技术的挑战。
7. 提供系统性调查，填补文献中其他拟议调查的空白。
8. 提供网络流量分类领域可能研究的未来方向。

## 各种技术方式
### 基于端口的识别
基于端口的识别方法，将网络流量分类到其对应协议中，例如HTTP和RTP。无论观察到的数据包数量如何，他们的经验评估提供的结果准确性不超过70%。基于端口的方法对P2P网络流量进行分类的有效性。他们的私人收集数据（包括VPN和非VPN网络流量）表明，标准端口仅占整个数据集和解决方案的30%性能较低。基于端口的分类解决方案的优势体现在其简单性上，可以实现低计算资源需求和高速分类过程。另一方面，它有两个主要缺点。首先，当今的各种应用程序都部署了伪装，即使用标准端口来交付其他协议流量，例如通过HTTP的恶意软件流量。其次，许多应用程序是随机部署的，这是指利用非标准/动态端口来交付其网络流量，例如IP电话应用程序。
### 深度包检测（DPI）
一种比特编码框架，即用于流量分类的比特级DPA签名生成。它分析网络流的前n位，提取签名并转换到状态转换机中以进行进一步比较。Hamming距离已经集成到他们的系统中，以减少冲突并增加目标应用程序的数量。
后来，同一作者引入了另一种名为BitProb的解决方案，该解决方案利用概率位签名的概念，概率位签名是从网络流中提取的n位二进制字符串长度来对网络流量进行分类。该解决方案将原始网络流量表示为网络流，并通过监视前几个数据包为每个流生成n位签名。
## 统计与机器学习
统计分类解决方案在进行网络流量分类时，依赖于统计特征提取与机器学习算法的结合。该框架的第一步是将网络流量表示为流的形式，即聚合具有相同五元组特征的数据包——包括源/目的IP地址、源/目的端口号以及TCP/UDP协议。第二步是在数据包或流层面提取统计特征。数据包层面的特征提取针对单个或聚合数据包进行，生成特征包括数据包长度和到达间隔时间；流层面的特征提取则针对整个数据流进行，生成特征包括数据包总数、总字节数和流持续时间。现有文献提出的解决方案可分为监督式机器学习分类器、无监督机器学习分类器和半监督机器学习分类器。
该矩阵中，每行对应一个应用程序的流量，每列代表一个统计特征。特征降维/选择是可选但更优的处理方式，能有效剔除冗余特征，从而提升分类器的准确率和计算资源利用率。特征选择算法主要分为两类：包装器和过滤器。
包装器通过迭代评估分类器在不同特征子集上的表现，从而确定最优特征子集。过滤器则通过分析训练数据集来筛选出不冗余且相关的特征，且无需对分类器进行任何评估。基于相关性的特征选择（CFS）采用相关性与互相关分析流程，从全部提取特征中筛选出特征子集。其中相关性分析通过量化特征与类别之间的关联度，来识别具有相关性的特征。
互相关分析通过测量特征子集中的相互关联性来识别冗余特征。最终得到的特征与定义的类别高度相关，且彼此间相关性较低。基于一致性子集搜索（CON）的特征选择算法[30]能够识别出与同一类别具有强关联性的特征。增益比（GR）特征选择算法通过评估特征与数据集中定义类别的相关性进行排序。该算法基于信息增益（IG）算法，由于IG算法倾向于筛选具有大量取值的特征[31]，因此能有效提升其性能。信息增益算法根据特征的熵值对数据集中的特征进行排序，具体通过计算特征在观察数据集前后类别熵值的差异来实现。卡方[32]特征选择算法则通过计算特征与类别之间的卡方统计量，根据特征与训练数据集的相关性进行排序。在提取特征并应用特征选择算法后，包含目标应用历史数据的完整数据集已就绪，可用于构建和测试分类器。具体可采用独立的训练集与测试集，或实施N折交叉验证。若采用独立训练集与测试集，需部署两个数据集分别用于分类器的构建与评估。训练阶段需要大量训练数据以确保最佳训练效果，同样地，也需要合适的测试数据集来准确评估正在构建的分类器性能。
将同一数据集同时用于训练和测试属于不良实践，因为结果可能具有误导性。此时可采用N折交叉验证法。
